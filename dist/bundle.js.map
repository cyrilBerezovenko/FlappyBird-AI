{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/Bird.js","webpack:///./src/js/Generation.js","webpack:///./src/js/generation_runner.js"],"names":["Bird","init_ypos","vert_min","vert_max","hor_min","hor_max","cVert","Math","random","cHor","isAlive","yPos","speed","score","vert","undefined","hor","scale_vert","x","scale_hor","sigmoid","exp","chooseToJump","Generation","instanceCount","bg","fg","acceleration","height","width","birds","i","push","sort","b1","b2","slice","bird","tmp","crossover","r1","randomInt","r2","forEach","mutate","el","b","min","max","rand","b3","Object","assign","cvs","document","querySelector","ctx","getContext","Image","birdImage","pipeUp","pipeBottom","src","gap","jumpFrames","jumpFrameSize","border","gameSpeed","birdXPosition","decision_threshold","pipes","nextPipeInd","genCounter","genr","start","Pipe","restart","next","update","drawImage","filter","length","y","gone","passed","flap","fillStyle","font","fillText","requestAnimationFrame","onload","frame","floor"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/generation_runner.js\");\n","export default class Bird {\r\n\r\n    constructor(init_ypos, vert_min, vert_max, hor_min, hor_max) {\r\n        this.cVert = Math.random();\r\n        this.cHor = Math.random();\r\n        this.isAlive = true;\r\n        this.yPos = init_ypos;\r\n        this.speed = 0;\r\n        this.score = 0;\r\n        this.vert = undefined;\r\n        this.hor = undefined;\r\n\r\n        this.scale_vert = x => x / (vert_max - vert_min);\r\n        this.scale_hor = x => x / (hor_max - hor_min);\r\n\r\n        let sigmoid = x => 1 / (1 + Math.exp(-x));\r\n        this.chooseToJump = function() {\r\n            return sigmoid(this.cVert*this.scale_vert(this.vert)\r\n                + this.cHor*this.scale_hor(this.hor));\r\n        };\r\n    }\r\n}","import Bird from './Bird';\r\nimport {randomInt} from './generation_runner';\r\n\r\nexport default class Generation {\r\n\r\n    constructor(instanceCount, bg, fg, acceleration, init_ypos) {\r\n        let vert_min = 0;\r\n        let vert_max = bg.height - fg.height;\r\n        let hor_min = 0;\r\n        let hor_max = bg.width;\r\n        this.init_ypos = init_ypos;\r\n\r\n        this.birds = [];\r\n        for(let i = 0; i < instanceCount; i++)\r\n            this.birds.push(new Bird(init_ypos, vert_min, vert_max, hor_min, hor_max));\r\n    }\r\n\r\n    next() {\r\n        this.birds.sort((b1, b2) => b1.score > b2.score ? 1 : (b1.score < b2.score ? -1 : 0));\r\n        this.birds = this.birds.slice(0, 4);\r\n        for(let bird of this.birds) {\r\n            bird.isAlive = true;\r\n            bird.speed = 0;\r\n            bird.yPos = this.init_ypos;\r\n            bird.hor = bird.vert = undefined;\r\n            bird.score = 0;\r\n        }\r\n\r\n        let tmp = [];\r\n        tmp.push(Generation.crossover(this.birds[0], this.birds[1]));\r\n        let r1 = randomInt(0,3);\r\n        let r2 = randomInt(0,3);\r\n        while(r2 === r1) r2 = randomInt(0,3);\r\n        for(let i = 0; i < 3; i++)\r\n            tmp.push(Generation.crossover(this.birds[r1], this.birds[r2]));\r\n        r1 = randomInt(0,3);\r\n        r2 = randomInt(0,3);\r\n        while(r2 === r1) r2 = randomInt(0,3);\r\n        tmp.push(this.birds[r1]);\r\n        tmp.push(this.birds[r2]);\r\n\r\n        tmp.forEach(Generation.mutate);\r\n        tmp.forEach(el => this.birds.push(el));\r\n    }\r\n\r\n    static mutate(b) {\r\n        let min = 0.9;\r\n        let max = 1.1;\r\n        b.cVert *= min + Math.random()*(max-min);\r\n        b.cHor *= min + Math.random()*(max-min);\r\n    }\r\n\r\n    static crossover(b1, b2) {\r\n        let rand = randomInt(0, 3);\r\n        let b3 = Object.assign({}, b1);\r\n        switch(rand) {\r\n            case 0:\r\n                b3.cVert = b1.cVert;\r\n                b3.cHor = b1.cHor;\r\n                break;\r\n            case 1:\r\n                b3.cVert = b1.cVert;\r\n                b3.cHor = b2.cHor;\r\n                break;\r\n            case 2:\r\n                b3.cVert = b2.cVert;\r\n                b3.cHor = b1.cHor;\r\n                break;\r\n            case 3:\r\n                b3.cVert = b2.cVert;\r\n                b3.cHor = b2.cHor;\r\n                break;\r\n        }\r\n        return b3;\r\n    }\r\n}","/*\r\ncHor: 0.0002100101735564852\r\ncVert: 0.8266311296177093\r\n */\r\n\r\nimport Generation from './Generation';\r\n\r\nlet cvs = document.querySelector('#canvas');\r\nlet ctx = cvs.getContext('2d');\r\n\r\nlet bg = new Image();\r\nlet fg = new Image();\r\nlet birdImage = new Image();\r\nlet pipeUp = new Image();\r\nlet pipeBottom = new Image();\r\n\r\nbg.src = './resources/images/flappy_bird_bg.png';\r\nfg.src = './resources/images/flappy_bird_fg.png';\r\nbirdImage.src = './resources/images/flappy_bird_bird.png';\r\npipeUp.src = './resources/images/flappy_bird_pipeUp.png';\r\npipeBottom.src = './resources/images/flappy_bird_pipeBottom.png';\r\n\r\nlet gap = 120;\r\nlet acceleration = 0.2;\r\nlet jumpFrames = 6;\r\nlet jumpFrameSize = 10;\r\nlet border = 100;\r\nlet gameSpeed = 1.5;\r\nlet birdXPosition = 10;\r\nlet decision_threshold = 0.5;\r\n\r\nlet pipes = [];\r\nlet nextPipeInd = -1;\r\nlet genCounter = 1;\r\n\r\nlet genr = new Generation(60, bg, fg, acceleration, 150);\r\n\r\nfunction start() {\r\n    pipes.push(new Pipe(cvs.width,\r\n        randomInt(-pipeUp.height, cvs.height - fg.height - gap - pipeUp.height)));\r\n    nextPipeInd = 0;\r\n}\r\n\r\nfunction restart() {\r\n    pipes = [];\r\n    start();\r\n    genr.next();\r\n    genCounter++;\r\n    update();\r\n}\r\n\r\nfunction update() {\r\n    ctx.drawImage(bg, 0, 0);\r\n\r\n    let birds = genr.birds.filter(b => b.isAlive);\r\n    if(birds.length === 0) {\r\n        restart();\r\n        return;\r\n    }\r\n\r\n    for(let bird of birds) {\r\n        ctx.drawImage(birdImage, birdXPosition, bird.yPos);\r\n    }\r\n\r\n    for(let i = 0; i < pipes.length; i++) {\r\n        if(pipes[i] === null) continue;\r\n        ctx.drawImage(pipeUp, pipes[i].x, pipes[i].y);\r\n        ctx.drawImage(pipeBottom, pipes[i].x, pipes[i].y + pipeUp.height + gap);\r\n        pipes[i].x -= gameSpeed;\r\n        if(pipes[i].x <= border && !pipes[i].gone) {\r\n            pipes[i].gone = true;\r\n            pipes.push(new Pipe(cvs.width,\r\n                randomInt(-pipeUp.height, cvs.height - fg.height - gap - pipeUp.height)));\r\n        }\r\n\r\n        if(pipes[i].x <= -pipeUp.width) {\r\n            pipes[i] = null;\r\n        }\r\n    }\r\n\r\n    if(birdXPosition >= pipes[nextPipeInd].x + pipeUp.width && !pipes[nextPipeInd].passed) {\r\n        pipes[nextPipeInd].passed = true;\r\n        nextPipeInd++;\r\n    }\r\n\r\n    ctx.drawImage(fg, 0, cvs.height - fg.height);\r\n\r\n    for(let bird of birds) {\r\n        bird.yPos += bird.speed;\r\n        bird.speed += acceleration;\r\n        bird.score++;\r\n    }\r\n\r\n    for(let bird of birds) {\r\n        if ((birdXPosition + birdImage.width >= pipes[nextPipeInd].x && birdXPosition <= pipes[nextPipeInd].x + pipeUp.width)\r\n            && (bird.yPos <= pipes[nextPipeInd].y + pipeUp.height || bird.yPos + birdImage.height >= pipes[nextPipeInd].y + pipeUp.height + gap)\r\n            || (bird.yPos >= cvs.height - fg.height - birdImage.height)) {\r\n            bird.isAlive = false;\r\n            continue;\r\n        }\r\n        bird.vert = bird.yPos - (pipes[nextPipeInd].y + pipeUp.height + gap/2);\r\n        bird.hor = pipes[nextPipeInd].x - birdXPosition;\r\n        if(bird.chooseToJump() >= decision_threshold) {\r\n            flap(0, bird);\r\n        }\r\n    }\r\n\r\n    ctx.fillStyle = '#000';\r\n    ctx.font = '20px Verdana';\r\n    ctx.fillText(`Generation ${genCounter}`, 10, 490);\r\n\r\n    requestAnimationFrame(update);\r\n}\r\n\r\npipeBottom.onload = () => {\r\n    start();\r\n    update();\r\n};\r\n\r\n\r\nfunction flap(frame, bird) {\r\n    if(frame === jumpFrames) return;\r\n    bird.yPos -= jumpFrameSize;\r\n    bird.speed = 0;\r\n    requestAnimationFrame(() => flap(frame+1, bird));\r\n}\r\n\r\nexport function randomInt(min,max) {\r\n    return Math.floor(Math.random()*(max-min+1)+min);\r\n}\r\n\r\nfunction Pipe(x, y) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.gone = false;\r\n    this.passed = false;\r\n}"],"sourceRoot":""}